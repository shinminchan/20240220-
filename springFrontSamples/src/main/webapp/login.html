<<<<<<< HEAD
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<style type="text/css">
.center{
	margin:auto;
	width: 400px;
	border: 1px solid #a1a1a1;
	padding: 10px;
	border-radius: 30px;
}
</style>
</head>
<body>

<h1>login</h1>
<div align="center">
<br/>
<table border="1">
	<tr>
		<th>
			아이디
		</th>
		<td>
			<input type="text" id="id" size="20">
		</td>
	</tr>
	
	<tr>
		<th>
			비밀번호
		</th>
		<td>
			<input type="password" id="pw" size="20">
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<div align="center">
				<input type="checkbox" id="chk_save_id" size="20">아이디저장</br></br>
				
				<span><input type="button" id="login" value="login"></span>
				<span><a href="regi.html" >회원가입</a></span>
			</div>
		</td>
		
	</tr>
</table>

</div>



<script src="http://lab.alexcican.com/set_cookies/cookie.js" type="text/javascript" ></script>
<script type="text/javascript">

let id = $.cookie("id");	// 쿠키에서 id를 산출
if(id != null){	// 쿠키에 저장한 id가 있다
	$("#id").val( id );
	$("#chk_save_id").prop("checked", true);
}

$("#chk_save_id").click(function () {
	
	if( $("#chk_save_id").is(":checked") == true ){	// 첵크가 되었을 때
		
		if( $("#id").val().trim() == "" ){	// 빈문자였을 때
			alert('id를 입력해 주십시오');
			$("#chk_save_id").prop("checked", false);	// 첵크박스를 off
		}
		else{	// cookie에 저장
			$.cookie("id", $("#id").val().trim(), { expires:7, path:'/' } );
		}		
	}
	else{
		$.removeCookie("id", { path:'/' });
	}		
});


$("#login").click(function(){
	
	// 유효성 검사 해야함!
	
	$.ajax({
		url:"http://localhost:9900/login",
		type:"post",
		data:{id:$("#id").val(), pw:$("#pw").val()},
		success:function(member){
	         if(member === ""){   // login되지 않았을 때
	            alert('id나 password를 확인하세요');
	            $("#id").val("");
	            $("#pw").val("");
	            $("#id").focus();   // id 입력창으로 포커스를 맞춘다 
	         }else{
	            // sessionStorage에 저장
	            sessionStorage.setItem("login", JSON.stringify(member))
	            
	            alert(member.id + "님 환영합니다");
	            
	            location.href = "bbslist.html";
	         }
	         
	      },
	      error:function(){
	         alert('error');
	      }

	});
});

</script>


</body>
=======
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<style type="text/css">
.center{
	margin:auto;
	width: 400px;
	border: 1px solid #a1a1a1;
	padding: 10px;
	border-radius: 30px;
}
</style>
</head>
<body>

<h1>login</h1>
<div align="center">
<br/>
<table border="1">
	<tr>
		<th>
			아이디
		</th>
		<td>
			<input type="text" id="id" size="20">
		</td>
	</tr>
	
	<tr>
		<th>
			비밀번호
		</th>
		<td>
			<input type="password" id="pw" size="20">
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<div align="center">
				<input type="checkbox" id="chk_save_id" size="20">아이디저장</br></br>
				
				<span><input type="button" id="login" value="login"></span>
				<span><a href="regi.html" >회원가입</a></span>
			</div>
		</td>
		
	</tr>
</table>

</div>



<script src="http://lab.alexcican.com/set_cookies/cookie.js" type="text/javascript" ></script>
<script type="text/javascript">

let id = $.cookie("id");	// 쿠키에서 id를 산출
if(id != null){	// 쿠키에 저장한 id가 있다
	$("#id").val( id );
	$("#chk_save_id").prop("checked", true);
}

$("#chk_save_id").click(function () {
	
	if( $("#chk_save_id").is(":checked") == true ){	// 첵크가 되었을 때
		
		if( $("#id").val().trim() == "" ){	// 빈문자였을 때
			alert('id를 입력해 주십시오');
			$("#chk_save_id").prop("checked", false);	// 첵크박스를 off
		}
		else{	// cookie에 저장
			$.cookie("id", $("#id").val().trim(), { expires:7, path:'/' } );
		}		
	}
	else{
		$.removeCookie("id", { path:'/' });
	}		
});


$("#login").click(function(){
	
	// 유효성 검사 해야함!
	
	$.ajax({
		url:"http://localhost:9900/login",
		type:"post",
		data:{id:$("#id").val(), pw:$("#pw").val()},
		success:function(mem){
			//alert('success');
			console.log(JSON.stringify(mem));
		},
		error:function(){
			alert('error');
		}
	});
});

</script>


</body>
>>>>>>> branch 'main' of https://github.com/shinminchan/springFrontSamples.git
</html>